(function(b){b.Zebra_TransForm=function(k,u){var v={style_disabled_labels:!0},n=this,t;n.settings={};var q=function(r){k.each(function(){var d,e,h,c,a=b(this),l=this,g=a.is("input:checkbox")?"checkbox":a.is("input:radio")?"radio":a.is("select")?"select":!1,f,k,p;if(g){g=g.charAt(0).toUpperCase()+g.slice(1);d=a.attr("checked");e=a.attr("disabled");h=a.attr("multiple");c=a.attr("size");if("Select"!==g||!h&&!c){if(h=a.data("Zebra_TransForm_Wrapper"))h.replaceWith(a),a.removeClass("Zebra_TransForm_Replaced"); if(r){a.removeData("Zebra_TransForm_Wrapper").removeClass("Zebra_TransForm_List");e&&n.settings.style_disabled_labels&&(e=b('label[for="'+a.attr("id")+'"]'))&&e.removeClass("Zebra_TransForm_Label_Disabled");a.unbind(".Zebra_TransForm");a.css("opacity",1);return}h=b("<span>",{"class":"Zebra_TransForm_Wrapper"}).css({display:a.css("display"),position:"static"===a.css("position")?"relative":a.css("position"),"float":a.css("float"),top:a.css("top"),right:a.css("right"),bottom:a.css("bottom"),left:a.css("left"), width:a.css("width"),margin:a.css("margin")});f=b("<div>",{"class":"Zebra_TransForm_"+g+("Radio"===g?" Zebra_TransForm_Radio_"+a.attr("name"):"")}).css("visibility","hidden");a.wrap(h).addClass("Zebra_TransForm_Replaced");h=a.parent(".Zebra_TransForm_Wrapper");c={position:a.position(),width:a.outerWidth(),height:a.outerHeight()};"Select"!==g?f.append(b("<div>",{"class":"Checkbox"===g?"Zebra_TransForm_Checkbox_Tick":"Zebra_TransForm_Radio_Dot"})):(k=b("<div>",{"class":"Zebra_TransForm_Arrow"}).appendTo(f), p=b("<div>",{"class":"Zebra_TransForm_Text"}).css({fontFamily:a.css("fontFamily"),fontSize:a.css("fontSize"),fontStyle:a.css("fontStyle"),fontWeight:a.css("fontWeight")}).text(l.options[l.selectedIndex].text).appendTo(f.css("background",a.css("background"))));f.appendTo(h);"Select"!==g?f.css({left:(c.width-f.width())/2+c.position.left,top:(c.height-f.height())/2+c.position.top}).addClass((d&&!e?"Zebra_TransForm_"+g+"_Checked":"")+(e&&!d?"Zebra_TransForm_"+g+"_Disabled":"")+(e&&d?" Zebra_TransForm_"+ g+"_Checked_Disabled":"")):(e&&f.addClass("Zebra_TransForm_Select_Disabled"),b.extend(c,{paddingTop:parseInt(a.css("paddingTop"),10)||0,paddingRight:parseInt(a.css("paddingRight"),10)||0,paddingBottom:parseInt(a.css("paddingBottom"),10)||0,paddingLeft:parseInt(a.css("paddingLeft"),10)||0}),"explorer"===m.name&&7===m.version&&(a.css({marginTop:c.paddingTop,marginBottom:c.paddingBottom,marginLeft:c.paddingLeft,marginRight:c.paddingRight}),c.height+=c.paddingTop+c.paddingBottom,c.width+=c.paddingLeft+ c.paddingRight),f.css({left:0,top:0,width:c.width-f.outerWidth(),height:c.height-f.outerHeight()}),k.css({top:(f.innerHeight()-k.outerHeight())/2,right:"safari"===m.name?0:c.paddingRight}),p.css({top:(f.innerHeight()-p.outerHeight())/2,left:c.paddingLeft,width:c.width-3*c.paddingRight-parseFloat(k.css("width"))}));if(!a.hasClass("Zebra_TransForm")&&(w(a,{"focus.Zebra_TransForm":function(){f.addClass("Zebra_TransForm_"+g+"_Focus")},"blur.Zebra_TransForm":function(){f.removeClass("Zebra_TransForm_"+ g+"_Focus")},"change.Zebra_TransForm":function(){a.attr("disabled")||("Checkbox"===g?f.toggleClass("Zebra_TransForm_Checkbox_Checked"):"Radio"===g?(b(".Zebra_TransForm_Radio_"+b(this).attr("name")).each(function(){b(this).removeClass("Zebra_TransForm_Radio_Checked")}),f.addClass("Zebra_TransForm_Radio_Checked")):p.html(l.options[l.selectedIndex].text))},"keyup.Zebra_TransForm":function(){"Select"===g&&p.text(l.options[l.selectedIndex].text)}}),d=b._data(l,"events")))for(var s in d)for(var q in d[s])f.bind("Select"!== g&&"change"===s?"click":s,b.proxy(d[s][q].handler,l));a.css("opacity","0.0001").addClass("Zebra_TransForm").data("Zebra_TransForm_Wrapper",h);f.css("visibility","visible")}else a.addClass(h||c?"Zebra_TransForm_List":"");e&&n.settings.style_disabled_labels&&(e=b('label[for="'+a.attr("id")+'"]'))&&e.addClass("Zebra_TransForm_Label_Disabled")}})};n.remove=function(){b(window).unbind(".Zebra_TransForm");q(!0)};var w=function(r,d){for(var e in d){e=e.split(/\s+/);for(var h=e.length;h--;)r.each(function(){b(this).on(e[h], d[e]);var c=b._data(this,"events")[e[h].split(".")[0]];c.splice(0,0,c.pop())})}return r},m={init:function(){this.name=this.searchString(this.dataBrowser)||"";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(b){for(var d=0;d<b.length;d++){var e=b[d].string,h=b[d].prop;this.versionSearchString=b[d].versionSearch||b[d].identity;if(e){if(-1!==e.indexOf(b[d].subString))return b[d].identity}else if(h)return b[d].identity}},searchVersion:function(b){var d= b.indexOf(this.versionSearchString);if(-1!==d)return parseFloat(b.substring(d+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.vendor,subString:"Apple",identity:"safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};m.init();(function(){if("explorer"!==m.name||6!==m.version){n.settings=b.extend({},v,u);if(void 0===k||"function"!==typeof k.each)k=b('input[type="checkbox"], input[type="radio"], select');b(window).on("resize.Zebra_TransForm", function(){clearTimeout(t);t=setTimeout(function(){q()},100)});q()}})()}})(jQuery);